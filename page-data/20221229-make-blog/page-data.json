{"componentChunkName":"component---src-templates-blog-post-js","path":"/20221229-make-blog/","result":{"data":{"site":{"siteMetadata":{"title":"Azara Posts"}},"markdownRemark":{"id":"18224e52-c238-5021-b098-790ccdfae083","excerpt":"要件 記事をGitHub上で管理できる GitHub Pagesでホストする Blog記事とホスト用のコードは別のGitHub リポジトリを分離する 技術選定 できる限り労力をかけずにブログを構築できる、かつ記事が多いというところ、また色々使っている人が多かったを選択。(React…","html":"<h1>要件</h1>\n<ul>\n<li>記事をGitHub上で管理できる</li>\n<li>GitHub Pagesでホストする</li>\n<li>Blog記事とホスト用のコードは別のGitHub リポジトリを分離する</li>\n</ul>\n<h1>技術選定</h1>\n<p>できる限り労力をかけずにブログを構築できる、かつ記事が多いというところ、また色々使っている人が多かった<code class=\"language-text\">Gatsby</code>を選択。(Reactを触ったことがあるので、 というのも一つではあるが。)</p>\n<ul>\n<li>Gatsby\n<ul>\n<li><a href=\"https://github.com/sungik-choi/gatsby-starter-apple\">GitHub - sungik-choi/gatsby-starter-apple: 🍎 Gatsby blog starter kit with beautiful responsive design</a></li>\n</ul>\n</li>\n</ul>\n<h1>セットアップ</h1>\n<h2>環境情報</h2>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">node</span> <span class=\"token parameter variable\">-v</span>\n<span class=\"token comment\"># v18.12.1</span></code></pre></div>\n<h2>インストール</h2>\n<p>まずは、<code class=\"language-text\">gatsby-cli</code>を導入し、gatsbyを利用できるようにする。</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> gatsby-cli</code></pre></div>\n<h2>Blogテンプレートの取得とlocalでの起動</h2>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">gatsby new blog https://github.com/gatsbyjs/gatsby-starter-blog\n<span class=\"token builtin class-name\">cd</span> blog\ngatsby develop</code></pre></div>\n<p><code class=\"language-text\">gatsby develop</code>を実行後 <code class=\"language-text\">http://localhost:8000</code>で起動する。\n画面上では元から用意されているサンプル記事が表示される。</p>\n<h1>BuildとGitHub Pages へのホスト</h1>\n<p>BuildとGitHub Pagesへのホストは、<a href=\"https://kanamesasaki.github.io/blog/20220124-gatsby-blog/\">Kaname Sasaki氏のブログ記事</a>を参考にする。</p>\n<h1>Google Analytics の導入</h1>\n<p>もともとHatenaでブログを書いており、アクセス解析等がデフォルトでついてることが普通だった。</p>\n<p>ただ、自身でホストするとなると、常にそのような機能があるわけではなく、自身で用意する必要がある。そこで、<code class=\"language-text\">gatsby-plugin-google-gtag</code>を用いる。</p>\n<p>インストールは下記のコマンドでできる。</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> gatsby-plugin-google-gtag</code></pre></div>\n<p>次にGoogle Analyticsのアカウントを作成し、<code class=\"language-text\">gatsby-plugin-google-gtag</code>の設定に追加する。</p>\n<p><strong>gatsby-config.js</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t<span class=\"token comment\">// ~~snip~~</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-google-gtag</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">trackingIds</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"G-XXXXXXXXXX\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// Google Analytics のIDを追加</span>\n        <span class=\"token literal-property property\">pluginConfig</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">head</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>  <span class=\"token comment\">// headタグに追加する</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// ~~snip~~</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1>参考</h1>\n<ul>\n<li><a href=\"https://kanamesasaki.github.io/blog/20220124-gatsby-blog/\">GatsbyとGitHub Pagesで作るMarkdownブログ | Blog</a></li>\n<li><a href=\"https://zenn.dev/chot/articles/7f01dca5955c13\">Gatsby.js に Google Analytics を導入する</a></li>\n<li><a href=\"https://blog.ojisan.io/gatsby-create-tag/\">Gatsby製のブログにタグ機能を追加するための方法を見直してみよう | blog.ojisan.io</a></li>\n</ul>","frontmatter":{"title":"ブログをGitHub Pagesに移管する話","date":null,"description":null}},"previous":null,"next":{"fields":{"slug":"/20221231-year-end/"},"frontmatter":{"title":"一年を振り返って"}}},"pageContext":{"id":"18224e52-c238-5021-b098-790ccdfae083","previousPostId":null,"nextPostId":"419c83a0-b0e2-5d94-97d3-2d2d69e7491f"}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}